/**
 * Featherlight Gallery – an extension for the ultra slim jQuery lightbox
 * Version 1.3.2 - http://noelboss.github.io/featherlight/
 *
 * Copyright 2015, Noël Raoul Bossart (http://www.noelboss.com)
 * MIT Licensed.
**/
(function(d){function e(a,c){if(this instanceof e)d.featherlight.apply(this,arguments),this.chainCallbacks(k);else{var b=new e(d.extend({$source:a,$currentTarget:a.first()},c));b.open();return b}}var f=function(a){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+a)};if("undefined"===typeof d)return f("Too much lightness, Featherlight needs jQuery.");if(!d.featherlight)return f("Load the featherlight plugin before the gallery plugin");var h="ontouchstart"in document.documentElement,l=d.event&&d.event.special.swipeleft&&d,m=window.Hammer&&function(a){a=new window.Hammer.Manager(a[0]);a.add(new window.Hammer.Swipe);return a},g=h&&(l||m);h&&!g&&f("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var k={afterClose:function(a,c){this.$instance.off("next."+this.namespace+" previous."+this.namespace);this._swiper&&(this._swiper.off("swipeleft",this._swipeleft).off("swiperight",this._swiperight),this._swiper=null);return a(c)},beforeOpen:function(a,c){var b=this;b.$instance.on("next."+b.namespace+" previous."+b.namespace,function(a){a="next"===a.type?1:-1;b.navigateTo(b.currentNavigation()+a)});g?b._swiper=g(b.$instance).on("swipeleft",b._swipeleft=function(){b.$instance.trigger("next")}).on("swiperight",b._swiperight=function(){b.$instance.trigger("previous")}):b.$instance.find("."+b.namespace+"-content").append(b.createNavigation("previous")).append(b.createNavigation("next"));return a(c)},onKeyUp:function(a,c){var b={37:"previous",39:"next"}[c.keyCode];return b?(this.$instance.trigger(b),!1):a(c)}};d.featherlight.extend(e,{autoBind:"[data-featherlight-gallery]"});d.extend(e.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){f("images is deprecated, please use slides instead");return this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(a){var c=this,b=c.slides(),e=b.length,f=c.$instance.find("."+c.namespace+"-inner");c.$currentTarget=b.eq((a%e+e)%e);c.beforeContent();return d.when(c.getContent(),f.fadeTo(c.galleryFadeOut,.2)).always(function(a){c.setContent(a);c.afterContent();a.fadeTo(c.galleryFadeIn,1)})},createNavigation:function(a){var c=this;return d('<span title="'+a+'" class="'+this.namespace+"-"+a+'"><span>'+this[a+"Icon"]+"</span></span>").click(function(){d(this).trigger(a+"."+c.namespace)})}});d.featherlightGallery=e;d.fn.featherlightGallery=function(a){return e.attach(this,a)};d(document).ready(function(){e._onReady()})})(jQuery);
